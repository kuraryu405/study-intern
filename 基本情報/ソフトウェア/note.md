# OSの立ち位置

- アプリケーションソフトウェア：様々な機能をユーザーに提供
- API・ミドルウェア：アプリケーションとOSをつなぐはたらき
- OS（カーネル）：基本的な動作・資源管理などを提供  
  例：Windows、Mac、UNIX

***

# OSの主な役割

- CPUを有効に活用するにはどうするか
- どの順番でタスク（プロセス）を実行するか
- タスクの切り替え方法
- メモリ領域をどう使うか

***

# タスク状態遷移

- 実行可能  
- 実行中（CPU割り当て）  
- 待ち状態（WAIT、イベント待ち）
- タスク生成→実行可能→CPU割り当てで実行中→WAIＴ/終了を繰り返す
- シグナルや割り込みで状態が変化

***

# マルチタスク管理・切り替え方式

- タスクの切り替え方法
    - イベントドリブン（割り込み駆動）：状態変化（入出力完了など）で切り替え
    - タイムスライシング：一定時間ごとに切り替え
- プリエンプティブ：タスク実行中でも割り込みですぐ他タスクに切り替え
- ノンプリエンプティブ：タスクが自発的に切り替えポイントまで進んでから交代

# 割り込みの種類

- 外部割込み
    - タイマ割込み
    - 機械チェック割込み
    - 入出力割込み
- 内部割込み（プログラム割込み）
    - スーパーバイザコール割込み
    - ページフォールト割込み
    - プログラム割込み

***

# タスクスケジューリング（タスク管理方式）

## 到着順方式（FCFS: First Come, First Served）
- タスクが到着した順に処理

## 優先順位方式
- 優先度の高いタスクから順に処理
- スタベーション（低優先タスクが永久に実行されない）防止の工夫が必要

## ラウンドロビン方式
- 全タスクに順番で一定時間ずつCPUを分配
- 一周（ラウンド）したら再び順番待ちに戻る
- 時分割方式とも呼ばれる

---


# スプーリング

- データを一時的に補助記憶装置（例：HDD）に保存し、CPUと入出力装置（プリンタなど）の動作を分離する技術
- 入出力装置の低速化による全体の足止めを防ぎ、スループット（処理効率）向上に寄与

***

# マルチプログラミング

- 複数のプログラム（ジョブ）を組み合わせて同時に実行し、CPUと入出力の待ち時間をうまく分散してシステム全体の高速化を図る
- 実現にはイベントドリブン（割り込み制御）によるタスク管理が必要

***

# 仮想記憶管理

- 実際の物理メモリとは独立した「仮想的な記憶領域」をOSが管理
- プログラムから見た「仮想記憶」と、実際のメモリや補助記憶との対応（マッピング）を自動で行う
- 少ない物理メモリでも大きなアプリが動かせる

***

# 記憶管理方式

- 固定区画方式：メモリ領域をあらかじめ区画分け（パーティション）しておく
- 可変区画方式：実行時のプログラムサイズに応じて動的に区画を調整

- スワッピング：プロセス（ジョブ）単位でメモリ⇔補助記憶との入れ替え（スワップイン／スワップアウト）を行い、複数プログラムを効率よく動かす


# メモリ管理方式のまとめ

## 固定区画方式
- スワッピングなし：最も制約が強い
- スワッピングあり：スワッピングなしよりターンアラウンドタイムが短い

## 可変区画方式
- フラグメンテーション（断片化）を抑制する工夫が重要

### 動的割り当て
- メモリコンパクション（領域圧縮）で最適領域を確保できる

### 固定割り当て
- アルゴリズムによる適切な管理が必要

***

# ページング／仮想記憶管理

- 物理メモリより大きなプログラムも分割してロード・運用できる方式（ページング）
- ページフォールトの発生は極力避ける必要がある

***

# ページ置換アルゴリズム

- FIFO（First In First Out）：最初にページインしたものから順にページアウト
- LIFO（Last In First Out）：最後にページインしたものからページアウト
- LRU（Least Recently Used）：もっとも古く参照されていないページをページアウト
- LFU（Least Frequently Used）：参照回数が最も少ないページをページアウト

# ファイルの種類

- テキスト  
　文字コードや制御文字によって作られる基本的なファイル形式

- CSV（Comma Separated Value）  
　カンマ区切りで主に表計算などで使われるファイル形式

- PDF（Portable Document Format）  
　環境に依存せず、見た目を変えずに扱えるファイル形式

***

# ディレクトリ（フォルダ）とパス

- ファイルはディレクトリ（フォルダ）で管理される
- ディレクトリは階層構造になっていて、「ルートディレクトリ」からいくつも枝分かれする
- 今操作中の場所が「カレントディレクトリ」

***

# 絶対パスと相対パス

- 絶対パス：ルートディレクトリ（/）から始めてファイルの絶対的な位置を示す  
  例：`/san/2`

- 相対パス：今いるディレクトリ（カレントディレクトリ）から目的のファイルまでの道筋を示す  
  例：`../../san/2`（今"ni"にいる場合）

***

# エイリアス

- 実際のファイルやディレクトリを指し示す“ショートカット”のこと
- 複数のエイリアスから同じファイルやフォルダにアクセス可能

